<div class="container">
  <div class="header">
    <h1 class="title">Nexus Gal√°ctico</h1>
    <p class="subtitle">‚ú® No cora√ß√£o do Nexus Gal√°ctico, nasce um novo explorador... ‚ú®</p>
  </div>
  <form [formGroup]="characterForm" (ngSubmit)="confirmCharacter()">
    <div class="form-group">
      <label for="name">Nome do Personagem</label>
      <input type="text" id="name" placeholder="Digite o nome do seu explorador c√≥smico..." formControlName="name"
        required>
    </div>

    <div class="form-group">
      <label>Ra√ßa</label>
      <div class="selection-grid">
        <div class="selection-card" [class.selected]="characterForm.get('race')?.value === 'Humano'"
          (click)="selectRace('Humano')">
          <img src="assets/images/race/humano.png" alt="Humano" class="selection-icon">
          <div class="selection-name">Humano</div>
        </div>
        <div class="selection-card" [class.selected]="characterForm.get('race')?.value === 'Sint√©tico'"
          (click)="selectRace('Sint√©tico')">
          <img src="assets/images/race/sintetico.png" alt="Sint√©tico" class="selection-icon">
          <div class="selection-name">Sint√©tico</div>
        </div>
        <div class="selection-card" [class.selected]="characterForm.get('race')?.value === 'H√≠brido'"
          (click)="selectRace('H√≠brido')">
          <img src="assets/images/race/hibrido.png" alt="H√≠brido" class="selection-icon">
          <div class="selection-name">H√≠brido</div>
        </div>
        <div class="selection-card" [class.selected]="characterForm.get('race')?.value === 'Expatriado'"
          (click)="selectRace('Expatriado')">
          <img src="assets/images/race/expatriado.png" alt="Expatriado" class="selection-icon">
          <div class="selection-name">Expatriado</div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label>Classe</label>
      <div class="selection-grid">
        <div class="selection-card" [class.selected]="characterForm.get('char_class')?.value === 'Cientista'"
          (click)="selectClass('Cientista')">
          <img src="assets/images/class/cientista.png" alt="Cientista" class="selection-icon">
          <div class="selection-name">Cientista</div>
        </div>
        <div class="selection-card" [class.selected]="characterForm.get('char_class')?.value === 'Piloto'"
          (click)="selectClass('Piloto')">
          <img src="assets/images/class/piloto.png" alt="Piloto" class="selection-icon">
          <div class="selection-name">Piloto</div>
        </div>
        <div class="selection-card" [class.selected]="characterForm.get('char_class')?.value === 'Diplomata'"
          (click)="selectClass('Diplomata')">
          <img src="assets/images/class/diplomata.png" alt="Diplomata" class="selection-icon">
          <div class="selection-name">Diplomata</div>
        </div>
        <div class="selection-card" [class.selected]="characterForm.get('char_class')?.value === 'Aventureiro'"
          (click)="selectClass('Aventureiro')">
          <img src="assets/images/class/aventureiro.png" alt="Aventureiro" class="selection-icon">
          <div class="selection-name">Aventureiro</div>
        </div>
      </div>
    </div>

    <div class="form-group" formGroupName="attributes">
      <label>Atributos</label>
      <div class="attributes">
        <div class="attribute-row">
          <div class="attribute-label">
            <span class="attribute-icon">üí™</span>
            <span>For√ßa</span>
          </div>
          <div class="attribute-control">
            <button type="button" class="attribute-btn" (click)="adjustAttribute('strength', -1)">-</button>
            <div class="attribute-value">{{ characterForm.get('attributes.strength')?.value }}</div>
            <button type="button" class="attribute-btn" (click)="adjustAttribute('strength', 1)">+</button>
          </div>
        </div>
        <div class="attribute-row">
          <div class="attribute-label">
            <span class="attribute-icon">üß†</span>
            <span>Intelig√™ncia</span>
          </div>
          <div class="attribute-control">
            <button type="button" class="attribute-btn" (click)="adjustAttribute('intelligence', -1)">-</button>
            <div class="attribute-value">{{ characterForm.get('attributes.intelligence')?.value }}</div>
            <button type="button" class="attribute-btn" (click)="adjustAttribute('intelligence', 1)">+</button>
          </div>
        </div>
        <div class="attribute-row">
          <div class="attribute-label">
            <span class="attribute-icon">üó£Ô∏è</span>
            <span>Carisma</span>
          </div>
          <div class="attribute-control">
            <button type="button" class="attribute-btn" (click)="adjustAttribute('charisma', -1)">-</button>
            <div class="attribute-value">{{ characterForm.get('attributes.charisma')?.value }}</div>
            <button type="button" class="attribute-btn" (click)="adjustAttribute('charisma', 1)">+</button>
          </div>
        </div>
        <div class="attribute-row">
          <div class="attribute-label">
            <span class="attribute-icon">üéØ</span>
            <span>Destreza</span>
          </div>
          <div class="attribute-control">
            <button type="button" class="attribute-btn" (click)="adjustAttribute('dexterity', -1)">-</button>
            <div class="attribute-value">{{ characterForm.get('attributes.dexterity')?.value }}</div>
            <button type="button" class="attribute-btn" (click)="adjustAttribute('dexterity', 1)">+</button>
          </div>
        </div>
        <div class="attribute-row">
          <div class="attribute-label">
            <span class="attribute-icon">üåå</span>
            <span>Intui√ß√£o</span>
          </div>
          <div class="attribute-control">
            <button type="button" class="attribute-btn" (click)="adjustAttribute('intuition', -1)">-</button>
            <div class="attribute-value">{{ characterForm.get('attributes.intuition')?.value }}</div>
            <button type="button" class="attribute-btn" (click)="adjustAttribute('intuition', 1)">+</button>
          </div>
        </div>

        <div class="points-remaining">
          Pontos Restantes: <span>{{ pointsRemaining }}</span>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Hist√≥ria Pessoal</label>
      <textarea id="description" placeholder="Conte a hist√≥ria do seu personagem..."
        formControlName="description"></textarea>
    </div>

    <div class="preview-card">
      <div class="space-scene">
        <div class="space-dust"></div>
        <div class="planet">
          <div class="planet-ring"></div>
        </div>
        <div class="rocket" id="rocket">
          <div class="rocket-body"></div>
          <div class="rocket-window"></div>
          <div class="rocket-flame"></div>
        </div>
      </div>
      <div class="preview-title">‚ö° Preview do Personagem ‚ö°</div>
      <div class="preview-content">
        <div class="preview-row">
          <span class="preview-label">Nome:</span>
          <span class="preview-value">{{ characterForm.get('name')?.value || '---' }}</span>
        </div>
        <div class="preview-row">
          <span class="preview-label">Ra√ßa:</span>
          <span class="preview-value">{{ characterForm.get('race')?.value || '---' }}</span>
        </div>
        <div class="preview-row">
          <span class="preview-label">Classe:</span>
          <span class="preview-value">{{ characterForm.get('char_class')?.value || '---' }}</span>
        </div>
        <div class="preview-row">
          <span class="preview-label">Atributos:</span>
          <span class="preview-value">
            FOR: {{ characterForm.get('attributes.strength')?.value }} |
            INT: {{ characterForm.get('attributes.intelligence')?.value }} |
            CAR: {{ characterForm.get('attributes.charisma')?.value }} |
            DES: {{ characterForm.get('attributes.dexterity')?.value }} |
            ITU: {{ characterForm.get('attributes.intuition')?.value }}
          </span>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <button type="submit" class="btn btn-confirm" [disabled]="characterForm.invalid">
        Confirmar Cria√ß√£o
      </button>
      <button type="button" class="btn btn-cancel" (click)="cancelCreation()">
        Cancelar
      </button>
    </div>
  </form>
</div>