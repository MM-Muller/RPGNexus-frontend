<div class="harmonic-streams">
  <div class="stream stream1"></div>
  <div class="stream stream2"></div>
</div>

<div class="hud-element hud-top-left">
  <div class="hud-data">ARQUIVO HISTÓRICO ATIVO</div>
  <div class="hud-data">NÍVEL ACESSO: TRANSCENDENTE</div>
</div>

<div class="hud-element hud-top-right">
  <div class="hud-data">NEXUS.GALACTIC.ARCHIVE</div>
  <div class="hud-data">TEMPO CÓSMICO: ∞</div>
</div>

<div class="hud-element hud-bottom-left">
  <div class="hud-data">DECODIFICAÇÃO: 100%</div>
  <div class="hud-data">RESSONÂNCIA QUÂNTICA: ESTÁVEL</div>
</div>

<div class="hud-element hud-bottom-right">
  <div class="hud-data">COORDENADAS: BRAÇO EXTERIOR</div>
  <div class="hud-data">SETOR: NEXUS-PRIME</div>
</div>

<div class="characters-container">
  <div class="corner-decoration corner-tl"></div>
  <div class="corner-decoration corner-tr"></div>
  <div class="corner-decoration corner-bl"></div>
  <div class="corner-decoration corner-br"></div>

  <div class="characters-header">
    <h1 class="characters-title">SEUS PERSONAGENS</h1>
    <p class="characters-subtitle">Heróis do Nexus Galáctico</p>
  </div>

  <div class="character-grid">
    <div class="character-card" *ngFor="let char of characters">
      <div class="status-indicators">
        <div
          class="status-dot"
          [ngClass]="char.status"
          [title]="char.status"
        ></div>
      </div>

      <div class="character-avatar">
        <div class="avatar-frame"></div>
        <div class="avatar-inner">{{ char.avatar }}</div>
      </div>

      <div class="character-info">
        <h3 class="character-name">{{ char.name }}</h3>
        <p class="character-class">{{ char.char_class }}</p>
        <p class="character-level">
          Nível <span class="level-badge">{{ char.level }}</span>
        </p>
        <div class="experience-bar">
          <div class="exp-fill" [style.width.%]="char.expPercentage"></div>
        </div>
      </div>

      <div class="character-stats">
        <div class="stat">
          <div class="stat-label">Poder</div>
          <div class="stat-value">{{ char.power }}</div>
        </div>
        <div class="stat">
          <div class="stat-label">Defesa</div>
          <div class="stat-value">{{ char.defense }}</div>
        </div>
        <div class="stat">
          <div class="stat-label">Energia</div>
          <div class="stat-value">{{ char.energy }}</div>
        </div>
      </div>

      <div class="character-actions">
        <button class="action-btn" (click)="showDetails(char)">Detalhes</button>
        <button class="action-btn primary" routerLink="/game/worlds">Jogar</button>
      </div>
    </div>

    <div class="character-card create-character-card" routerLink="/game/character-create">
      <div class="create-icon">+</div>
      <div class="create-text">Criar Personagem</div>
    </div>
  </div>
</div>

<div class="modal-backdrop" *ngIf="isModalVisible" (click)="closeModal()"></div>
<div class="modal-container" *ngIf="isModalVisible">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">{{ selectedCharacter?.name }}</h2>
    </div>
    <div class="modal-body">
      <span class="info-label-modal">Raça:</span>
      <span class="info-value-modal">{{ selectedCharacter?.race }} {{ selectedCharacter?.race_icon }}</span>

      <span class="info-label-modal">Classe:</span>
      <span class="info-value-modal">{{ selectedCharacter?.char_class }} {{ selectedCharacter?.class_icon }}</span>

      <span class="info-label-modal">Força:</span>
      <span class="info-value-modal">{{ selectedCharacter?.attributes?.strength }}</span>

      <span class="info-label-modal">Inteligência:</span>
      <span class="info-value-modal">{{ selectedCharacter?.attributes?.intelligence }}</span>

      <span class="info-label-modal">Carisma:</span>
      <span class="info-value-modal">{{ selectedCharacter?.attributes?.charisma }}</span>

      <span class="info-label-modal">Destreza:</span>
      <span class="info-value-modal">{{ selectedCharacter?.attributes?.dexterity }}</span>

      <span class="info-label-modal">Intuição:</span>
      <span class="info-value-modal">{{ selectedCharacter?.attributes?.intuition }}</span>
      
      <div class="description-field">
        <strong class="info-label-modal">Descrição:</strong>
        <span class="info-value-modal">{{ selectedCharacter?.description }}</span>
      </div>
    </div>
    <div class="modal-footer">
      <button class="action-btn" (click)="closeModal()">Fechar</button>
      <button class="action-btn action-btn-danger" (click)="deleteCharacter()">Excluir</button>
    </div>
  </div>
</div>